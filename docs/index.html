<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EJAM Environmental Justice Analysis Multisite tool • EJAM</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="EJAM Environmental Justice Analysis Multisite tool">
<meta property="og:description" content="Tools for summarizing environmental and demographic indicators 
    (such as those in EJScreen) for residents living near any one of a number of 
    specific sites. It uses quad tree search/indexing of block locations, data.table, etc.
    to provide very fast identification of nearby blocks, distances, and 
    aggregation of indicators within each distance. It can be uses as a web app, with the user interface provided by R shiny.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">EJAM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/0_webapp.html">0. Using EJAM as a Web App</a>
    </li>
    <li>
      <a href="articles/1_installing.html">1. Installing the EJAM package</a>
    </li>
    <li>
      <a href="articles/2_quickstart.html">2. Quick Start Guide</a>
    </li>
    <li>
      <a href="articles/3_analyzing.html">3. Basics of Using EJAM for Analysis in RStudio</a>
    </li>
    <li>
      <a href="articles/4_advanced.html">4. Advanced Features</a>
    </li>
    <li>
      <a href="articles/5_ejscreenapi.html">5. Using the EJScreen API via EJAM</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/USEPA/EJAM/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="ejam-environmental-justice-analysis-multisite-tool">EJAM Environmental Justice Analysis Multisite tool<a class="anchor" aria-label="anchor" href="#ejam-environmental-justice-analysis-multisite-tool"></a>
</h1></div>
<!-- README.md is generated from README.Rmd. Please edit Rmd not md  -->
<!-- badges: start -->

<!-- badges: end -->
</div>
<div class="section level1">
<h1 id="technical-details">Technical Details<a class="anchor" aria-label="anchor" href="#technical-details"></a>
</h1>
<ul>
<li><p>Technical documentation for R software users</p></li>
<li>
<p>R users vignettes that will walk through installation and key functions: See <code>vignette(package="EJAM")</code> or (must be on VPN)</p>
<ul>
<li><p><a href="0_webapp.html" title="0_webapp.html">0. Using EJAM as a Web App</a></p></li>
<li><p><a href="1_installing.html" title="1_installing.html">1. Installing the EJAM package</a></p></li>
<li><p><a href="2_quickstart.html" title="2_quickstart.html">2. Quick Start Guide</a></p></li>
<li><p><a href="3_analyzing.html" title="3_analyzing.html">3. Basics of Using EJAM for Analysis in RStudio</a></p></li>
<li><p><a href="4_advanced.html" title="4_advanced.html">4. Advanced Features</a></p></li>
<li><p><a href="5_ejscreenapi.html" title="5_ejscreenapi.html">5. Using the EJScreen API via EJAM</a></p></li>
<li><p>R developers technical documentation of all R functions and data in web page format: <a href="EJAM.html" title="EJAM.html">EJAM R Functions and Data</a> (must be on VPN)</p></li>
<li><p>GitHub repository of code and data: <a href="https://github.com/USEPA/EJAM#readme" title="https://github.com/USEPA/EJAM#readme" class="external-link">USEPA/EJAM</a> (must be on VPN)</p></li>
</ul>
</li>
<li>
<p>EJAM Web App beta internal to EPA: As of 1/2024 the main app is on a staging server for beta testing:</p>
<ul>
<li>
<a href="https://rstudio-connect.dmap-stage.aws.epa.gov/content/cb2bc9cf-75c3-4db1-ad28-e92940fe4438/" title="https://rstudio-connect.dmap-stage.aws.epa.gov/content/cb2bc9cf-75c3-4db1-ad28-e92940fe4438/" class="external-link">EJAM beta test version</a>** (must be on VPN)</li>
</ul>
</li>
</ul>
</div>
<div class="section level1">
<h1 id="non-technical-overview">Non-technical Overview<a class="anchor" aria-label="anchor" href="#non-technical-overview"></a>
</h1>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<p>To install the latest version of EJAM, you will first need access to the GitHub repositories through EPA. Then use the following steps to install from private repositories:</p>
<ol style="list-style-type: decimal">
<li>create GitHub personal access token with ‘repo scope’</li>
</ol>
<ul>
<li>Go to <a href="https://github.com/settings/tokens" class="external-link uri">https://github.com/settings/tokens</a> and select Tokens (classic) on the left-hand side. Then click ‘Generate New Token’ -&gt; Generate new token (classic).</li>
<li>Give it a name and select all boxes under repo scope. Scroll down and click ‘Generate Token’.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>set GitHub credentials in Rstudio</li>
</ol>
<ul>
<li>one-time login: from the console, run credentials::set_github_pat(). Paste in your PAT to the login popup under ‘Token’.</li>
<li>store credentials long-term: run usethis::edit_r_environ() to open your .Renviron file and and add a line with your PAT in this format: GITHUB_PAT = ‘abc’
<ul>
<li>You can specify an extra argument scope = ‘project’ if you only want the PAT to work for a particular Rstudio project.</li>
</ul>
</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Install the packages using <code><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">devtools::install_github()</a></code>
</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'USEPA/EJAMejscreenapi'</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'USEPA/EJAMbatch.summarizer'</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'USEPA/EJAM'</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="epas-environmental-justice-analysis-multi-site-tool">EPA’s Environmental Justice Analysis Multi-site tool<a class="anchor" aria-label="anchor" href="#epas-environmental-justice-analysis-multi-site-tool"></a>
</h3>
<p>EJAM is a user-friendly web app, provided by the US EPA, that can summarize demographics and environmental conditions for any list of places in the nation. It provides interactive results and a formatted, ready-to-share report with written explanations of the results, tables, and graphics. The report can provide EJ-related information about people who live in communities near any of the industrial facilities on a list, for example.</p>
</div>
<div class="section level3">
<h3 id="what-is-ejam">What is EJAM?<a class="anchor" aria-label="anchor" href="#what-is-ejam"></a>
</h3>
<p>EJAM is a user-friendly web app, provided by the US EPA, that can summarize demographics and environmental conditions for any list of places in the nation. It provides interactive results and a formatted, ready-to-share report with written explanations of the results, tables, and graphics. The report can provide EJ-related information about people who live in communities near any of the industrial facilities on a list, for example.</p>
<p>To use the tool, one first selects the places to be analyzed. This could be, for example, everyone within 2 miles of any EPA-regulated facility in a specific NAICS code (industrial sector). The tool runs a fast “buffer” or proximity analysis at each location, similar to how EJScreen provides a standard report for a single location, except EJAM does this for each of a large number of locations very quickly. Then, most importantly, EJAM provides a complete overview report, to summarize environmental conditions and demographics across all the populations and all of the locations. The results can be explored interactively or downloaded as a written report with text, tables, and graphics.</p>
<p>An EJAM report can quickly and easily show which demographic groups live near the selected facilities. It also provides new insights into which environmental stressors may affect certain demographic subgroups disproportionately, to varying degrees, near a regulated sector overall and at individual sites. This allows EJ analysis to move beyond looking at a small number of indicators for a few demographic groups, at one site in a single permitting decision, to a more complete picture of conditions near a whole set of facilities that is the focus of a risk analysis or a new regulation being considered, for example.</p>
</div>
<div class="section level3">
<h3 id="ejam-features-and-benefits">EJAM features and benefits<a class="anchor" aria-label="anchor" href="#ejam-features-and-benefits"></a>
</h3>
<p>EJAM provides a ready-to-use summary report, plus more flexibility, accuracy, and speed than other tools have. The web-based app quickly provides results on the fly – The circular buffering module was optimized to be extremely fast (allowing realtime exploratory work in an app), while still using the block-population calculation EJScreen uses, making it more consistent with EJScreen and more accurate than other approaches.</p>
<p>EJAM also lets one pick locations through several different approaches, such as specifying points by industry or latitude/longitude, or using shapefiles with polygons rather than just analyzing residents within a fixed distance.</p>
<p>The default demographic indicators are <a href="https://www.epa.gov/ejscreen/overview-demographic-indicators-ejscreen" title="https://www.epa.gov/ejscreen/overview-demographic-indicators-ejscreen" class="external-link">EJScreen’s basic demographic indicators</a>, with the addition of race/ethnicity subgroups.</p>
<p>The data and software are shared as reusable, well-documented functions or modules in an R package, to allow software developers or analysts to take advantage of these resources in running their own analyses or building or supplementing their own tools, websites, or mobile apps.</p>
</div>
<div class="section level3">
<h3 id="updates">Updates<a class="anchor" aria-label="anchor" href="#updates"></a>
</h3>
<p>EJAM data updates are meant to match EJScreen’s scheduled updates and main version numbers, so EJAM 2.2 uses the same basic data as EJScreen 2.2. The 2.2 version of EJScreen (released July 2023) had up-to-date demographic data (e.g., Census 2020 block weights and ACS 2017-2021 block group demographics).</p>
</div>
<div class="section level3">
<h3 id="speed">Speed<a class="anchor" aria-label="anchor" href="#speed"></a>
</h3>
<p>The power of this tool enables faster and more accurate results than other tools generally have been able to provide. It also should be much more cost-effective as a public tool than the standard buffering solution would be. This tool lets any user very quickly see an analysis of a very large number of places (which EJScreen was not designed to offer), and immediately get a ready-to-use report that provides perspective on an entire industrial sector or set of places.</p>
</div>
<div class="section level3">
<h3 id="accuracy">Accuracy<a class="anchor" aria-label="anchor" href="#accuracy"></a>
</h3>
<p>Compared to other approaches, EJAM’s high-resolution buffering provides more accurate information about which populations live inside a buffer, which is important in rural areas where a single blockgroup can cover a very large area. For circular buffers, EJAM 2.2 uses the locations of internal points of Census 2020 blocks, not areal apportionment of block groups, to estimate where residents live within each block group. This essentially assumes people are evenly spread out within each block, not each block group, and treats the block population as if they were all located at the block’s internal point. There are several million blocks in the US. The only more accurate approaches are to use areal apportionment of blocks (not block groups), but that is very slow, or to use a 30x30 meter grid based on dasymetric estimates of where people live at even higher resolution than a block, but that requires large amounts of storage and computer time. Any analysis ideally should closely replicate EJScreen’s results for a single location, such as total population count within 1 mile, to avoid public confusion and inconsistency.</p>
<p>EJAM also takes note of which residences are near which sites, to avoid double-counting people in the summary statistics but still allow a user to view results for one site at a time. This is something other tools and analyses often cannot provide - when they aggregate across sites they typically do not retain the statistics on individual sites, and rarely if ever keep track of which communities are near multiple facilities. Keeping track of this would also allow an analyst to explore how many people are near multiple sites, or ask which sites in communities that already have multiple sites nearby.</p>
<p>EJAM was designed so that it can provide a continuous distribution of distances, as distributed across blocks or people for one or all of the nearby facilities. This enables exploration of the complete picture of proximities, rather than using an arbitrary single distance defining near versus far. The distribution can be sliced later for the summary statistics at any distance, and can be summarized as a distribution of distances within each demographic group.</p>
</div>
<div class="section level3">
<h3 id="future-plans">Future Plans<a class="anchor" aria-label="anchor" href="#future-plans"></a>
</h3>
<p>EJAM will also be able to analyze other demographic indicators, to include user-selected EPA-hosted layers, or even user-provided data. In other words, an analysis would be able to include other layers on risks or concentrations (at block group resolution), or user-provided scores for each block group.</p>
<p>The tool uses a default, standard report, but will allow flexibility beyond that. EJAM will provide a standard report (text, graphics, and maps) to print, download, share, and use, but that a user could further edit offline (e.g., in Word). Users also can download individual graphics and data files (for individual sites and summary statistics).</p>
<p>The results can be viewed interactively, where one can adjust certain aspects of the analysis and outputs (and that could possibly flow into the summary report as well) such as preferred graphics/ tables, indicator thresholds, reference groups, reference areas, metrics, etc.), to make the outputs fit a given user’s needs.</p>
<p>To provide further flexibility and help avoid duplication of effort, an EJAM API would provide access to services such as fast buffering, summarization, or data.</p>
<p>EJAM is designed with growth in mind, assuming that the specific indicators of interest will expand or change over time. It is even possible that multiple resolutions of data will need to be analyzed, such as block, block group, and tract data for different indicators. A subsequent refinement might even use a high-resolution raster grid of population estimates rather than the Census Block counts currently used for buffering and weighting block group scores for partially included block groups.</p>
</div>
<div class="section level2">
<h2 id="disclaimer-for-app">Disclaimer for App<a class="anchor" aria-label="anchor" href="#disclaimer-for-app"></a>
</h2>
<p>This software/application has been approved for release by the U.S. Environmental Protection Agency (USEPA). Although the software has been subjected to rigorous review, the USEPA reserves the right to update the software as needed pursuant to further analysis and review. No warranty, expressed or implied, is made by the USEPA or the U.S. Government as to the functionality of the software and related material nor shall the fact of release constitute any such warranty. Furthermore, the software is released on condition that neither the USEPA nor the U.S. Government shall be held liable for any damages resulting from its authorized or unauthorized use.</p>
</div>
<div class="section level2">
<h2 id="disclaimer-for-github-repository-content">Disclaimer for GitHub Repository Content<a class="anchor" aria-label="anchor" href="#disclaimer-for-github-repository-content"></a>
</h2>
<p>The United States Environmental Protection Agency (EPA) GitHub project code is provided on an “as is” basis and the user assumes responsibility for its use. EPA has relinquished control of the information and no longer has responsibility to protect the integrity, confidentiality, or availability of the information. Any reference to specific commercial products, processes, or services by service mark, trademark, manufacturer, or otherwise, does not constitute or imply their endorsement, recommendation or favoring by EPA. The EPA seal and logo shall not be used in any manner to imply endorsement of any commercial product or activity by EPA or the United States Government.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/USEPA/EJAM/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>.md</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing EJAM</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Mark Corrales <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Mark Corrales.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
