<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Run EJAM analysis for several radii and numbers of sitepoints, recording how long each step takes"><title>Run EJAM analysis for several radii and numbers of sitepoints, recording how long each step takes — speedtest • EJAM</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run EJAM analysis for several radii and numbers of sitepoints, recording how long each step takes — speedtest"><meta property="og:description" content="Run EJAM analysis for several radii and numbers of sitepoints, recording how long each step takes"><meta property="og:image" content="https://usepa.github.io/EJAM/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">EJAM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Overview for EJAM Users</h6>
    <a class="dropdown-item" href="../articles/0_what_is_ejam.html">What is EJAM?</a>
    <a class="dropdown-item" href="../articles/0_webapp.html">Using EJAM</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>For analysts using R</h6>
    <a class="dropdown-item" href="../articles/1_installing.html">1. Installing the EJAM R package</a>
    <a class="dropdown-item" href="../articles/2_quickstart.html">2. Quick Start Guide</a>
    <a class="dropdown-item" href="../articles/3_analyzing.html">3. Basics of Using EJAM for Analysis in RStudio</a>
    <a class="dropdown-item" href="../articles/4_advanced.html">4. Advanced Features</a>
    <a class="dropdown-item" href="../articles/5_ejscreenapi.html">5. Using the EJScreen API via EJAM</a>
    <a class="dropdown-item" href="../articles/6_future_plans.html">6. Future Plans and Ideas for EJAM</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Run EJAM analysis for several radii and numbers of sitepoints, recording how long each step takes</h1>
      
      <div class="d-none name"><code>speedtest.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Run EJAM analysis for several radii and numbers of sitepoints, recording how long each step takes</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">speedtest</span><span class="op">(</span></span>
<span>  n <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  sitepoints <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weighting <span class="op">=</span> <span class="st">"frs"</span>,</span>
<span>  radii <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3.106856</span>, <span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">31.06856</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>,</span>
<span>  avoidorphans <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  test_ejamit <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  test_getblocksnearby <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  test_doaggregate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  test_batch.summarize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  logging <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  logfolder <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  logfilename <span class="op">=</span> <span class="st">"log_n_datetime.txt"</span>,</span>
<span>  honk_when_ready <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  saveoutput <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  getblocks_diagnostics_shown <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>n</dt>
<dd><p>optional, vector of 1 or more counts of how many random points to test, or
set to 0 to interactively pick file of points in RStudio (n is ignored if sitepoints provided)</p></dd>


<dt>sitepoints</dt>
<dd><p>optional,  (use if you do not want random points) data.frame of points or
path/file with points, where columns are lat and lon in decimal degrees</p></dd>


<dt>weighting</dt>
<dd><p>optional, if using random points, how to weight them,
such as facilities, people, or blockgroups. see <code><a href="testpoints_n.html">testpoints_n()</a></code></p></dd>


<dt>radii</dt>
<dd><p>optional, one or more radius values in miles
to use in creating circular buffers when findings residents nearby each of sitepoints.
The default list includes one that is 5km (approx 3.1 miles)</p></dd>


<dt>avoidorphans</dt>
<dd><p>see <code><a href="getblocksnearby.html">getblocksnearby()</a></code> or <code><a href="ejamit.html">ejamit()</a></code> regarding this param</p></dd>


<dt>test_ejamit</dt>
<dd><p>whether to test only ejamit()
instead of its subcomponents like getblocksnearby(), doaggregate(), etc</p></dd>


<dt>test_getblocksnearby</dt>
<dd><p>whether to include this function in timing - not used because always done</p></dd>


<dt>test_doaggregate</dt>
<dd><p>whether to include this function in timing</p></dd>


<dt>test_batch.summarize</dt>
<dd><p>whether to include this function in timing</p></dd>


<dt>logging</dt>
<dd><p>logical optional, whether to save log file with timings of steps.
NOTE this slows it down though.</p></dd>


<dt>logfolder</dt>
<dd><p>optional, name of folder for log file</p></dd>


<dt>logfilename</dt>
<dd><p>optional, name of log file to go in folder</p></dd>


<dt>honk_when_ready</dt>
<dd><p>optional, self-explanatory</p></dd>


<dt>saveoutput</dt>
<dd><p>but this slows it down if set to TRUE to save each run as .rda file</p></dd>


<dt>plot</dt>
<dd><p>whether to create plot of results</p></dd>


<dt>getblocks_diagnostics_shown</dt>
<dd><p>set TRUE to see more details on block counts etc.</p></dd>


<dt>...</dt>
<dd><p>passed to plotting function</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>EJAM results similar to as from the web app or <code><a href="ejamit.html">ejamit()</a></code> and also creates a plot</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This is essentially a test script that times each step of EJAM for a large dataset</p><ul><li><p>pick a sample size (n) (or enter sitepoints, or set n=0 to interactively pick file of points in RStudio)</p></li>
<li><p>pick n random points</p></li>
<li><p>pick a few different radii for circular buffering</p></li>
<li><p>analyze indicators in circular buffers and overall (find blocks nearby and then calc indicators)</p></li>
<li><p>get stats that summarize those indicators</p></li>
<li><p>compare times between steps and radii and other approaches or tools</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="speedtest_plot.html">speedtest_plot()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> </span></span>
<span class="r-in"><span>  <span class="va">speedseen_few</span> <span class="op">&lt;-</span> <span class="fu">speedtest</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">500</span><span class="op">)</span>, radii<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3.106856</span><span class="op">)</span>, logging<span class="op">=</span><span class="cn">FALSE</span>, honk<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="va">speedseen_nearer_to1k</span> <span class="op">&lt;-</span> <span class="fu">speedtest</span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1e2</span>,<span class="fl">1e3</span>,<span class="fl">1e4</span> <span class="op">)</span>, radii<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3.106856</span>,<span class="fl">5</span> <span class="op">)</span>,</span></span>
<span class="r-in"><span>    logging<span class="op">=</span><span class="cn">TRUE</span>, honk<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/save.html" class="external-link">save</a></span><span class="op">(</span> <span class="va">speedseen_nearer_to1k</span>, file <span class="op">=</span> <span class="st">"~/../Downloads/speedseen_nearer_to1k.rda"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">rstudioapi</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/rstudioapi/reference/savePlotAsImage.html" class="external-link">savePlotAsImage</a></span><span class="op">(</span>        <span class="st">"~/../Downloads/speedseen_nearer_to1k.png"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="va">speedseen_all</span> <span class="op">&lt;-</span> <span class="fu">speedtest</span><span class="op">(</span></span></span>
<span class="r-in"><span>    n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1e2</span>,<span class="fl">1e3</span>,<span class="fl">1e4</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>    radii<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3.106856</span>, <span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">31.06856</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>    logging<span class="op">=</span><span class="cn">TRUE</span>, honk<span class="op">=</span><span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span> <span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>DRAFT/beta</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>EJAM Version 2.2.2 beta</p>
</div>

    </footer></div>

  

  

  </body></html>

